    <!-- HOME start-->
<div id="appVue">
    <section class="section-hero overlay inner-page bg-image " style="background-image: url('/images/hero_1.jpg');"
             id="home-section">
        <div class="container">
            <div class="row">
                <div class="col-md-7">
                    <h1 class="text-white font-weight-bold">文章分享</h1>
                </div>
            </div>

        </div>
    </section>
    <section class="site-section block__18514 pt-4" id="next-section">
        <div class="container h-100">
            <div class="row">
                <!-- Below is sidebar -->
                <div class="col-xs-12 col-md-10 col-lg-4 mt-lg-5">
                    <nav class="navbar navbar-expand-lg navbar-light pl-lg-5 py-0">
                        <!-- <a class="navbar-brand" href="#">Liya rescue</a> -->
                        <button class="navbar-toggler mb-2" type="button" data-toggle="collapse"
                                data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false"
                                aria-label="Toggle navigation">
                            <span class="navbar-toggler-icon"></span>
                        </button>
                        <div class="collapse navbar-collapse" id="navbarSupportedContent">
                            <ul class="navbar-nav mr-auto flex-column">
                                <li class="nav-item px-1 mx-1">
                                    <div class="head"></div>
                                    <div class="mb-3 border navbar-nav box">

                                        <div class="p-3 w-100">

                                            <figure class="figure ml-2">
                                                <img src="https://picsum.photos/250/250/?random=10"
                                                     class="figure-img img-fuild rounded-circle  w-50  ">
                                                <h3 class="display-6 slide-h3 mt-1">使用者 您好</h3>
                                            </figure>
                                            <div>手機:</div>
                                            <div>信箱:</div>
                                            <div class="item text-end align-content-end mb-0">
                                                <div class="text-right mr-3 fw-bold">
                                                    <a asp-controller="Home" asp-action="memberDetail">
                                                        修改會員資料 <i class="fa-solid fa-chevron-right"></i>
                                                    </a>
                                                </div>
                                            </div>
                                            <hr />
                                            <div>履歷總數：</div>
                                            <div>預設履歷：</div>
                                            <div class="item input-group">
                                                <div class="d-flex">
                                                    <p class="mr-1"> 開放設定：</p>
                                                    <div>
                                                        <div class="input-group-prepend ">
                                                            <input type="radio" name="CV" id="CVON"><span class="font-weight-normal text-body">開放履歷</span>
                                                        </div>
                                                        <div class="input-group-prepend ">
                                                            <input type="radio" name="CV" id="CVOFF"><span class="font-weight-normal text-body">關閉履歷</span>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="d-block text-right">
                                                <div class="text-right mr-3 fw-bold">
                                                    <a asp-controller="Home" asp-action="CV">
                                                        瀏覽所有履歷 <i class="fa-solid fa-chevron-right"></i>
                                                    </a>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </li>
                                <li class="nav-item px-1 mx-1">
                                    <div class="head mt-4 "></div>
                                    <div class="border p-4 box mb-6">
                                        <ul class="list-unstyled block__47528 ">
                                            <li><span class="active h2 ">購買課程</span></li>
                                            <li class="text-left">前往課程頁面學習更多</li>
                                            <div class="w-100 text-center">
                                                <button class="h-50 w-auto btn slide-button btn-lg">
                                                    <a asp-controller="Home" asp-action="courseDetail"
                                                       class="">課程管理</a>
                                                </button>
                                            </div>
                                        </ul>
                                    </div>
                                </li>
                                <li class="nav-item px-1 mx-1 mb-5">
                                    <div class="head mt-4"></div>
                                    <div class="border p-4 box mb-6 h-auto">
                                        <ul class="list-unstyled block__47528 ">
                                            <li><span class="active h2">廣告</span></li>
                                            <figure class="w-100">
                                                <img src="https://picsum.photos/100/100/?random=10" class="float-left mr-3">
                                                <figcaption>
                                                    Lorem ipsum dolor sit amet consectetur, adipisicing elit.
                                                    Maxime, corrupti
                                                    distinctio dolore repellat corporis nulla consequuntur nostrum
                                                    laboriosam
                                                    molestiae doloribus perspiciatis totam esse veritatis expedita,
                                                    atque dicta,
                                                    ullam necessitatibus exercitationem.
                                                </figcaption>
                                            </figure>
                                        </ul>
                                    </div>
                                </li>
                            </ul>
                        </div>
                        <!-- </div> -->
                    </nav>
                    <!-- Above is sidebar -->

                </div>

                <section class="site-section col-lg-8 content mt-3 pt-lg-0 mt-lg-5 pb-2">
                    <div class="container ">
                        <div class="row mb-5  ">
                            <!--The first article-->
                            <div class="col-md-6 col-lg-4 mb-5 " v-for="data in datalist">
                                <a v-bind:href="'https://localhost:7158/Home/sourcePage?id='+data.articleId"><img :src="data.img" v-if="data.img!==null" alt="Image" class="img-fluid rounded mb-4" /></a>
                                @*                                <a href=""><img :src="data.img" v-else alt="Image" class="img-fluid rounded mb-4" /></a>
                                *@
                                <h3>
                                    <a v-bind:href="'https://localhost:7158/Home/sourcePage?id='+data.articleId" class="text-black">{{data.title}}</a>
                                </h3>
                                <div>{{data.update}} <span class="mx-2">|</span> <a href="#">{{data.author}}</a></div>
                            </div>
                            <!--Article finish-->
                        </div>
                        <div class="form-group">
                            <span class="icon fa fa-search"></span>
                            <input type="text" class="form-control form-control-lg"
                                   placeholder="Type a keyword and hit enter"
                                   v-model="inputValue" />
                        </div>

                        <div class="row pagination-wrap mt-5">
                            <div class="col-md-12 text-center">
                                <div class="custom-pagination ml-auto">
                                    <a href="#" class="prev" v-on:click="prev">Prev</a>
                                    <div class="d-inline-block" v-for="item in sliced">
                                        <!--算頁數-->
                                        <a href="#" class="active" v-if="currentpage == item" @@click="click(item)">{{item + 1}}</a>
                                        <a href="#" v-else @@click="click(item)">{{item + 1}}</a>
                                    </div>
                                    <a href="#" class="next" v-on:click="next">Next</a>
                                </div>
                            </div>
                        </div>
                    </div>
                </section>
    </section>
</div>
@section Scripts{

    <script src="https://cdn.jsdelivr.net/npm/vue@2.7.14/dist/vue.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/axios/1.2.2/axios.min.js"></script>
    <script>
        const webApi = "https://localhost:7240"
        const appVue = new Vue({
            el: "#appVue",
            name: "appVue",
            data: {
                datalist: [],
                pageData: [],
                dataLength: 0,//資料長度
                pagesize: 0, //頁數
                sliced: [], //切分頁
                currentpage: 0,
                inputValue: '',
            },
            mounted: function () {
                let _this = this;
                _this.Source();
            },
            methods: {
                Source: function () {
                    let _this = this;
                    let item = 0;
                    let name = this.inputValue.replace(/[\ !@@#$%^&*()_+|}{":?>~+\-*\/.';[\]\\]+/g, "");
                    axios.get(`${webApi}/api/Articles?title=${name}`)
                        .then(response => {
                            //如果欄位裡沒有資料就回傳 fasle , 這樣下面的程式碼就不會執行
                            //inputvalue有資料的話 , 就不會執行 if 裡的程式碼
                            if (!response.data) {
                                this.inputValue = ''
                                return false
                            }
                            /*
                                1.因為網頁生成後 , mounted 就會先執行一次 source() ,
                                這時候 datalist 會有6筆資料 , 要先清空陣列再重新將資料放進去
                                2.用資料長度去判斷 , 根據結果去執行相對應的程式碼
                            */
                            this.datalist = [];
                            this.dataLength = response.data.length;//取得長度
                            this.PageContent();//計算頁碼
                            console.log(response.data); //8筆
                            let arr = [];
                            let x;
                            response.data.length > 6 ? x = 6 : x = response.data.length
                            for (let i = 0; i < x; i++) {
                                let item = {};
                                item = response.data[i];//6筆
                                arr.push(item);
                            }

                            //跟202到207行一樣,只是比較簡潔的寫法
                            //if(response.data.length > 6){
                            //    for (let i = 0; i < 6; i++) {
                            //        let item = {};
                            //        item = response.data[i];//6筆
                            //        arr.push(item);
                            //    }
                            //}else{
                            //    for(let i = 0; i < response.data.length;i++){
                            //        let item = {};
                            //        item = response.data[i];//6筆
                            //        arr.push(item);
                            //    }
                            //}
                            this.datalist = arr


                            //原始資料 , 看一對註解部分比對就好
                            ////console.log(response.data)
                            ////console.log(response.data[0].img);
                            ////appVue.datas = response.data;
                            //this.dataLength = response.data.length;
                            ////console.log(response.data); //8筆
                            //this.PageContent();
                            //let arr = [];

                            //// 一頁n筆資料 , n = 6為例
                            //// 第一頁 1  - 6 ,  0  < 5    第一頁 => item = 0   , item * 6   <  (item + 1) * 6 => 0 < 6
                            //// 第二頁 6  - 10,  5  < 10   第二頁 => item = 1   , item * 6   <  (item + 1) * 6 => 6 < 12　
                            //// 第三頁 11 - 15,  10 < 15   第三頁 => item = 2   , item * 6   <  (item + 1) * 6 => 12 < 18
                            ////console.log(this.dataLength)
                            //if (this.dataLength < 6) {
                            //    for (i = 0; i < response.data.legth; i++) {
                            //        let item = {};
                            //        item = response.data[i];//6筆
                            //        arr.push(item);
                            //    }
                            //    this.datalist = arr
                            //}
                            //for (let i = item * 6; i < (item + 1) * 6; i++) {
                            //    console.log(response.data[i].img);
                            //    let item = {};
                            //    item = response.data[i];//6筆
                            //    arr.push(item);
                            //}
                            //this.datalist = arr;
                            ////console.log(this.datalist)//6筆
                        })
                },
                PageContent: function () { // 頁數長度
                    this.pagesize = Math.ceil(this.dataLength / 6); //無條件進位
                    for (let i = 0; i < this.pagesize; i++) {
                        this.sliced[i] = i;
                    }//[0,1]
                },
                click: function (item) {
                    let currentpage = item;
                    this.currentpage = currentpage;
                    axios.get(`${webApi}/api/Articles`)
                        .then(response => {
                            this.datalist = [];
                            this.dataLength = response.data.length;
                            console.log(response.data); //8筆
                            this.PageContent();
                            let arr = [];
                            let item = {};
                            if (this.pagesize == (currentpage + 1)) {
                                for (let i = currentpage * 6; i < response.data.length; i++) {
                                    item = response.data[i];//6筆
                                    arr.push(item);
                                }
                            } else {
                                for (let i = currentpage * 6; i < (currentpage + 1) * 6; i++) {
                                    item = response.data[i];//6筆
                                    arr.push(item);
                                }
                            }
                            this.datalist = arr;
                            console.log(this.datalist)//6筆
                        })
                },
                prev() {
                    let currpage = this.currentpage
                    if (currpage != 0) {
                        currpage--;
                        this.click(currpage)
                    }
                },
                next() {
                    let currpage = this.currentpage
                    if (currpage != this.sliced.length) {
                        currpage++;
                        this.click(currpage)
                    }
                }
                //Pagination: function () {
                //    this.sliced = this.datas.slice((this.currentpage * this.pagesize) - this.pagesize, (this.currentpage * this.pagesize))
                //}
            },
            watch: {
                inputValue: {
                    handler(newValue) {
                        this.Source()
                    },
                    deep: true,
                },
            }
        })
    </script>
    }